
  <view style="background-color: white">
    <view hidden="{{checkEmptyContentList}}" class="line-view"/>
    <scroll-view style="padding-bottom: 50px;">
      <view class="title-view">
        <text style="font-size: 24px; color: #333333; font-weight: bold;">{{title}}</text>
        <text bindtap="clickedTitleEditorButton" class="editor-button-style">编辑</text>
      </view>

      <!--无内容-->
      <view  wx:if="{{checkEmptyContentList}}" class="content-nodata-view">
        <view class="content-nodata-add-view">
          <view bindtap="clickedAddContentButton" class="content-nodata-add-item-view">
            <image src="../../../images/tn-wx-editor-insert-text.png" style="width: 70px; height: 70px;"/>
            <text class="content-nodata-add-item-text">添加文字</text>
          </view>
          <view style="border-left: 0.5px solid rgba(0,0,0,0.10);"/>
          <view bindtap="clickedAddImageButton" class="content-nodata-add-item-view">
            <image src="../../../images/tn-wx-editor-insert-image.png" style="width: 70px; height: 70px;"/>
            <text class="content-nodata-add-item-text">插入照片</text>
          </view>
        </view>

        <view class="content-tip-view">
          <view class="content-tip-title-style">
            <view class="content-tip-line-view"/>
            <text class="content-tip-title-text">提示</text>
          </view>
          <view style="margin-top: 4px;">
            <text class="content-tip-detail">你可以任意添加一段文字、图片，添加完成后可以用“图文排序”功能完成文字和图片的排序</text>
          </view>
        </view>
      </view>

      <!--有内容-->
      <view  wx:else>
        <block wx:for="{{contents}}" wx:for-index="index" wx:for-item="item" wx:key="index">
          <!--添加-->
          <view data-index="{{index}}" class="add-content-button">
            <image data-index="{{index}}" bindtap="clickedAddButton" src="../../../images/tn-wx-editor-data-add.png" style="width: 28px; height: 28px; margin-bottom: 21px; margin-top: 21px;"/>
            <view class="line-view"/>
          </view>

          <!--文本-->
          <view wx:if="{{item.elementType === 0}}" class="paragraph-list">
            <view data-id="{{index}}" bindtap="clickedContentEditorButton">
              <view class="content-title-view">
                <text class="content-title-text">{{item.title}}</text>
              </view>
              <view class="content-text-view">
                <text class="content-text-text">{{item.content ? item.content : '暂无内容'}}</text>
              </view>
            </view>

            <view class="content-delete-view">
              <image data-index="{{index}}" bindtap="clickedDeleteContentButton" src="../../../images/tn-wx-editor-paragraph-delete.png" style="width: 12px; height: 17px;"/>
            </view>

            <view class="line-view"/>
          </view>

          <!--图片-->
          <view wx:if="{{item.elementType === 1}}" class="paragraph-list">
            
  <view class="images-view" style="margin-left: -{{getSpaceSepSize}}px;">
    <block wx:for="{{item.imgs}}" wx:for-index="$contentimagesview$index" wx:for-item="$contentimagesview$item" wx:key="$contentimagesview$index">
      <view class="image-view" style="margin-left: {{getSpaceSepSize}}px;">
        <image src="{{$contentimagesview$item.imgUrl}}" mode="aspectFill" style="width: 100px; height: 100px;"/>
        <image data-idnex="{{$contentimagesview$index}}" bindtap="$contentimagesview$clickedDeleteImgButton" src="../../../images/tn-wx-editor-image-delete.png" style="position: absolute; width: 14px; height: 14px; top: 0px; right: 0px;" data-com-index="{{index}}"/>
      </view>
    </block>
  </view>

            <view class="content-delete-view">
              <image data-index="{{index}}" bindtap="clickedDeleteContentButton" src="../../../images/tn-wx-editor-paragraph-delete.png" style="width: 12px; height: 17px;"/>
            </view>
            <view class="line-view"/>
          </view>
        </block>

        <!--添加-->
        <view data-index="{{contents.length}}" class="add-content-button">
          <image data-index="-1" bindtap="clickedAddButton" src="../../../images/tn-wx-editor-data-add.png" style="width: 28px; height: 28px; margin-bottom: 21px; margin-top: 21px;"/>
        </view>

        <view class="line-view"/>

        <!--目的地-->
        <view wx:if="{{sourceType === 'square'}}" class="section-view">
          <text style="font-size: 15px; color: #333333;">目的地<text style="font-size: 13px; color: #999999;">（请添加对应目的地）</text></text>
          <view class="editor-poi-list">
            <block wx:for="{{selectPois}}" wx:for-index="index" wx:for-item="item" wx:key="index">
              <view class="editor-poi-button">
                <image src="../../../images/tn-wx-desination-item-location.png" style="width: 11px; height: 12px; margin-right: 7px;"/>
                <text class="editor-poi-text">{{item.poiName}}</text>
                <view bindtap="clickedDeletePoiButton" data-info="{{item}}" class="editor-delete-button">
                  <image src="../../../images/tn-wx-desination-item-delete.png" style="width: 12px; height: 12px;"/>
                </view>
              </view>
            </block>
            <view bindtap="clickedAddPoiButton" class="editor-poi-button">
              <image src="../../../images/tn-wx-desination-item-add.png" style="width: 12px; height: 12px; margin-right: 6px;"/>
              <text class="editor-poi-text">添加城市/景点</text>
            </view>
          </view>
        </view>



        <!--板块-->
        <view class="section-view">
          <text style="font-size: 15px; color: #333333;">版块<text style="font-size: 13px; color: #999999;">（请选择对应版块，最多选3个）</text></text>
          <view class="tag-list">
            <block wx:for="{{tabs}}" wx:for-index="index" wx:for-item="item" wx:key="index">
              <view class="{{item.isSelect ? 'tag-select-item' : 'tag-noselect-item'}}" data-info="{{item}}" id="{{index}}" bindtap="clickedCurrentTag">
                <text class="tag-item-text">{{item.name}}</text>
              </view>
            </block>
          </view>
        </view>

        <!--同步-->
        <view style="background-color: #EDF0F5; padding-top: 14px; padding-bottom: 16px; padding-left: 15px; padding-right: 15px; display: flex; flex-direction: row; align-items: center;">
          <image bindtap="clickedSyncSquare" src="{{selectedSync ? selectedIcon : noselectIcon}}" style="width: 16px; height: 16px; margin-right: 6px;"/>
          <text style="font-size: 15px; color: #222222;">同步到广场</text>
        </view>
      </view>

      <view wx:if="{{addButtonOffsetY >= 0}}" bindtap="clickedOtherView" class="add-button-mask">
        <view class="add-button-view" style="top: {{addButtonOffsetY}}px;">
          <view class="add-button-back-view">
            <view bindtap="clickedAddContentButton" class="add-button-item-view">
              <text class="add-button-item-text">文字</text>
            </view>
            <view class="line-view"/>
            <view bindtap="clickedAddImageButton" class="add-button-item-view">
              <text class="add-button-item-text">图片</text>
            </view>
          </view>
        </view>
      </view>
    </scroll-view>

    <view wx:if="{{!checkEmptyContentList}}" bindtap="clickedSortButton" class="sort-view">
      <image src="../../../images/tn-wx-editor-sort.png" style="margin-left: 16px;width: 15px; height: 14px;"/>
      <text style="margin-left:4px; font-size: 15px; color: #FFFFFF;">排序</text>
    </view>

    
  <cover-view class="back-view">
    <cover-view bindtap="$completebutton$completeEvent" class="complete-button" style="width: {{$completebutton$getCompleteWidth}}%;">
      <cover-view class="complete-button-text">{{$completebutton$title}}</cover-view>
    </cover-view>
    <cover-view  wx:if="{{$completebutton$needDraft}}" bindtap="$completebutton$draftEvent" class="draft-button">
      <cover-view class="draft-button-text">保存草稿箱</cover-view>
    </cover-view>
  </cover-view>

  </view>